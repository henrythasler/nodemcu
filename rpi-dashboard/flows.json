[{"id":"d8b40c37.7fd748","type":"tab","label":"Home","disabled":false,"info":""},{"id":"2753c794.533ca8","type":"tab","label":"Media","disabled":false,"info":""},{"id":"7f717486.e31e8c","type":"tab","label":"Vehicle","disabled":false,"info":""},{"id":"734e8117.dcf29","type":"tab","label":"Race","disabled":false,"info":""},{"id":"71a85f39.f39c5","type":"tab","label":"Wifi","disabled":false,"info":""},{"id":"3e56901f.b4aac","type":"tab","label":"Settings","disabled":false,"info":""},{"id":"b1694ae5.76a6b8","type":"tab","label":"Temperature","disabled":false,"info":""},{"id":"4a91fec4.5ed8e","type":"ui_tab","name":"Home","icon":"home","order":1,"disabled":false,"hidden":false},{"id":"a999ed30.92fee","type":"ui_base","theme":{"name":"theme-custom","lightTheme":{"default":"#0094CE","baseColor":"#0094ce","baseFont":"Verdana,Verdana,Geneva,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#df9c00","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Dark Optimized","default":"#4B7930","baseColor":"#1997d2","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#4B7930","value":"#1997d2","edited":true},"page-titlebar-backgroundColor":{"value":"#1997d2","edited":false},"page-backgroundColor":{"value":"#111111","edited":true},"page-sidebar-backgroundColor":{"value":"#111111","edited":true},"group-textColor":{"value":"#4eb8ea","edited":false},"group-borderColor":{"value":"#111111","edited":true},"group-backgroundColor":{"value":"#111111","edited":true},"widget-textColor":{"value":"#eeeeee","edited":true},"widget-backgroundColor":{"value":"#1997d2","edited":false},"widget-borderColor":{"value":"#111111","edited":true},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"true","allowSwipe":"false","lockMenu":"icon","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":40,"sy":40,"gx":0,"gy":0,"cx":0,"cy":0,"px":0,"py":0}}},{"id":"b418fe9c.51467","type":"ui_group","name":"Home","tab":"4a91fec4.5ed8e","order":1,"disp":false,"width":19,"collapse":false},{"id":"8702bca7.64e2b8","type":"ui_tab","name":"Vehicle Status","icon":"directions_car","order":3,"disabled":false,"hidden":false},{"id":"f3af13fb.dab4","type":"ui_group","name":"Vehicle Status","tab":"8702bca7.64e2b8","order":1,"disp":false,"width":"19","collapse":false},{"id":"4b7db33.210fecc","type":"mqtt-broker","name":"localhost","broker":"localhost","port":"1883","clientid":"","usetls":false,"protocolVersion":"4","keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","birthMsg":{},"closeTopic":"","closeQos":"0","closePayload":"","closeMsg":{},"willTopic":"","willQos":"0","willPayload":"","willMsg":{},"sessionExpiry":""},{"id":"71e60b.4d02c1f4","type":"ui_tab","name":"Settings","icon":"settings","order":7,"disabled":false,"hidden":false},{"id":"18965cda.34db2b","type":"ui_group","name":"Settings","tab":"71e60b.4d02c1f4","order":1,"disp":false,"width":"19","collapse":false},{"id":"29d3ad6.45575d2","type":"ui_tab","name":"Temperature","icon":"show_chart","order":5,"disabled":false,"hidden":false},{"id":"ee517ab4.5dfed","type":"ui_group","name":"Statistics","tab":"29d3ad6.45575d2","order":1,"disp":false,"width":"19","collapse":false},{"id":"8bfebe2e.9854a8","type":"ui_group","name":"Group 1","tab":"","order":1,"disp":true,"width":6},{"id":"88879cbe.c1a968","type":"ui_tab","name":"Wifi","icon":"wifi_tethering","order":6,"disabled":false,"hidden":false},{"id":"1392885.3583378","type":"ui_group","name":"Group 1","tab":"88879cbe.c1a968","order":1,"disp":false,"width":19,"collapse":false},{"id":"f9140066.959b08","type":"ui_tab","name":"Media","icon":"photo_library","order":2,"disabled":false,"hidden":false},{"id":"40d3cd94.82f53c","type":"ui_group","name":"Group 1","tab":"f9140066.959b08","order":1,"disp":false,"width":19,"collapse":false},{"id":"6e198890.ee8bc8","type":"ui_spacer","name":"spacer","group":"40d3cd94.82f53c","order":2,"width":8,"height":1},{"id":"6afd4f34.7eec2","type":"ui_spacer","name":"spacer","group":"40d3cd94.82f53c","order":4,"width":8,"height":1},{"id":"c98ee487.99e4f8","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":2,"width":18,"height":1},{"id":"da106a9c.5ef5d8","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":3,"width":6,"height":1},{"id":"cb153b20.d1e33","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":5,"width":6,"height":1},{"id":"449b072d.f66ba","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":6,"width":6,"height":1},{"id":"87da4dd0.840538","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":7,"width":6,"height":1},{"id":"cf9dc7ab.2dce18","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":8,"width":19,"height":1},{"id":"216880f3.935138","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":9,"width":7,"height":1},{"id":"f9c037a1.c2cdd8","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":11,"width":7,"height":1},{"id":"6c4130da.ff18d8","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":12,"width":3,"height":1},{"id":"c78ccbcc.9227a8","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":14,"width":3,"height":1},{"id":"ef072a09.cb9948","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":15,"width":3,"height":1},{"id":"e3256d7.0e7829","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":16,"width":3,"height":1},{"id":"23b617d9.bec31","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":17,"width":3,"height":1},{"id":"7004c856.246c88","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":18,"width":3,"height":1},{"id":"81130728.55f328","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":19,"width":3,"height":1},{"id":"e60dfc53.a12c38","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":20,"width":3,"height":1},{"id":"a634b2d.f01d55","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":21,"width":3,"height":1},{"id":"ecadf5ea.489c5","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":22,"width":3,"height":1},{"id":"7624acc2.9376e4","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":23,"width":3,"height":1},{"id":"9798b002.d728b8","type":"ui_spacer","name":"spacer","group":"1392885.3583378","order":24,"width":3,"height":1},{"id":"74399164.0fe1e8","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":1,"width":19,"height":1},{"id":"a05192a4.1890d","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":2,"width":4,"height":1},{"id":"fe67d842.cc1ac8","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":4,"width":1,"height":1},{"id":"d41255b.ee3e528","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":6,"width":4,"height":1},{"id":"f10bfb38.6c4558","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":7,"width":4,"height":1},{"id":"98758122.4f114","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":8,"width":1,"height":1},{"id":"bc8c369.2fd3ac8","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":9,"width":4,"height":1},{"id":"e72d8f5b.ff2538","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":10,"width":19,"height":1},{"id":"37a3e236.4e709e","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":11,"width":4,"height":1},{"id":"69aeec8.0b7df14","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":13,"width":10,"height":1},{"id":"a82e66e9.79627","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":14,"width":4,"height":1},{"id":"ccf93b21.50fba","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":15,"width":10,"height":1},{"id":"922793e6.8d39d8","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":16,"width":19,"height":1},{"id":"5505de1b.555d28","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":17,"width":19,"height":1},{"id":"b49b9e7f.34c788","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":18,"width":19,"height":1},{"id":"2e86a9dc.3010de","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":19,"width":19,"height":1},{"id":"bb3d5c98.f47ed8","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":21,"width":1,"height":1},{"id":"a9f83ec5.d7cef","type":"ui_spacer","name":"spacer","group":"18965cda.34db2b","order":23,"width":1,"height":1},{"id":"58dc913c.17a9a8","type":"ui_tab","name":"Race Control","icon":"timer","order":4,"disabled":false,"hidden":false},{"id":"7dab5cc4.d52464","type":"ui_group","name":"Group 1","tab":"58dc913c.17a9a8","order":1,"disp":false,"width":"19","collapse":false},{"id":"d4d8074c.a9a418","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":2,"width":3,"height":1},{"id":"6fc36cb4.058814","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":4,"width":19,"height":1},{"id":"b4d07936.aaf9c8","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":5,"width":6,"height":1},{"id":"a2131fac.17c7a8","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":7,"width":6,"height":1},{"id":"92ca26d5.04ac38","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":9,"width":5,"height":1},{"id":"bb575393.c5aa68","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":10,"width":6,"height":1},{"id":"5140b991.f6a17","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":11,"width":6,"height":1},{"id":"4d946722.5fb3e8","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":12,"width":6,"height":1},{"id":"b25fd06e.af65d","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":13,"width":6,"height":1},{"id":"d34cb086.6341c8","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":14,"width":6,"height":1},{"id":"d5b6a2d3.e637a","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":15,"width":6,"height":1},{"id":"bda76a2b.1d273","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":16,"width":6,"height":1},{"id":"fef5e7f9.f096b8","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":17,"width":6,"height":1},{"id":"2c20b040.1a8278","type":"ui_spacer","name":"spacer","group":"b418fe9c.51467","order":18,"width":6,"height":1},{"id":"71816903.4a141","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":1,"width":1,"height":1},{"id":"659c2990.62503","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":3,"width":1,"height":1},{"id":"77b1e792.9638a","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":4,"width":1,"height":1},{"id":"692b8f2e.de6be8","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":5,"width":1,"height":1},{"id":"9a3fc768.e77dd","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":6,"width":1,"height":1},{"id":"a7173dec.a4b338","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":7,"width":1,"height":1},{"id":"f717613b.74c98","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":8,"width":1,"height":1},{"id":"45180c22.808c14","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":9,"width":1,"height":1},{"id":"ac168bfb.ef4ea8","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":10,"width":1,"height":1},{"id":"728e3660.3f9578","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":11,"width":1,"height":1},{"id":"c55ee4d3.5820a8","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":12,"width":1,"height":1},{"id":"a037debb.7bab","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":13,"width":1,"height":1},{"id":"75578c6a.0483a4","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":14,"width":1,"height":1},{"id":"301c6627.674f12","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":15,"width":1,"height":1},{"id":"e6dadc02.62d35","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":16,"width":6,"height":1},{"id":"d3321053.069eb","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":18,"width":6,"height":1},{"id":"deb78688.573df","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":19,"width":6,"height":1},{"id":"e09a5470.05a55","type":"ui_spacer","name":"spacer","group":"7dab5cc4.d52464","order":20,"width":6,"height":1},{"id":"98ad207e.fd7478","type":"ui_spacer","name":"spacer","group":"f3af13fb.dab4","order":10,"width":19,"height":1},{"id":"c26d0db9.dbc89","type":"ui_spacer","name":"spacer","group":"f3af13fb.dab4","order":13,"width":7,"height":1},{"id":"d9ab210b.8cc9a","type":"mqtt in","z":"7f717486.e31e8c","name":"bytes_sent","topic":"$SYS/broker/bytes/sent","qos":"2","datatype":"utf8","broker":"4b7db33.210fecc","nl":false,"rap":true,"rh":0,"x":440,"y":460,"wires":[["e2410636.d664e8"]]},{"id":"7ec5ce34.608a98","type":"ui_button","z":"3e56901f.b4aac","name":"","group":"18965cda.34db2b","order":3,"width":5,"height":2,"passthru":false,"label":"Power Off","tooltip":"","color":"","bgcolor":"#b22","icon":"power_settings_new","payload":"","payloadType":"str","topic":"topic","topicType":"msg","x":280,"y":220,"wires":[["31a3558b.6b211a"]]},{"id":"c07c2247.10585","type":"ui_button","z":"3e56901f.b4aac","name":"","group":"18965cda.34db2b","order":5,"width":5,"height":2,"passthru":false,"label":"Restart","tooltip":"","color":"","bgcolor":"","icon":"replay","payload":"","payloadType":"str","topic":"topic","topicType":"msg","x":280,"y":300,"wires":[["9f1633a2.9389b8"]]},{"id":"a0bd36fe.987c28","type":"ui_button","z":"3e56901f.b4aac","name":"","group":"18965cda.34db2b","order":12,"width":5,"height":2,"passthru":false,"label":"Exit Kiosk Mode","tooltip":"","color":"","bgcolor":"","icon":"desktop_windows","payload":"","payloadType":"str","topic":"topic","topicType":"msg","x":300,"y":380,"wires":[["b0ef8aa7.329d18"]]},{"id":"b0ef8aa7.329d18","type":"exec","z":"3e56901f.b4aac","command":"sudo","addpay":"","append":"systemctl stop kiosk","useSpawn":"false","timer":"","oldrc":false,"name":"","x":490,"y":380,"wires":[[],[],[]]},{"id":"d96d21ae.439f58","type":"ui_template","z":"d8b40c37.7fd748","group":"b418fe9c.51467","name":"font-sizes","order":8,"width":1,"height":1,"format":"<style>\n    .md-button {\n        font-size: 42px !important;\n    }\n    .nr-dashboard-widget- {\n        font-size: 24px !important;\n    }    \n</style>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":360,"y":360,"wires":[[]]},{"id":"c7bdc0f5.437848","type":"inject","z":"d8b40c37.7fd748","name":"30s timer","props":[{"p":"payload"}],"repeat":"30","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"","payloadType":"date","x":350,"y":260,"wires":[["422e42e0.2e4794"]]},{"id":"422e42e0.2e4794","type":"Bme280","z":"d8b40c37.7fd748","name":"","bus":"1","address":"0x76","topic":"bme280","extra":false,"x":560,"y":260,"wires":[["d4a2c43a.038cb"]]},{"id":"d4a2c43a.038cb","type":"function","z":"d8b40c37.7fd748","name":"","func":"msg.payload.temperature_C = Math.round(msg.payload.temperature_C*10)/10;\nmsg.payload.humidity = Math.round(msg.payload.humidity);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":740,"y":260,"wires":[["c29fc847.47ba4","c93945e7.98cd3"]]},{"id":"be0d8698.5af488","type":"inject","z":"d8b40c37.7fd748","name":"1s timer","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"1","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":360,"y":160,"wires":[["e6b1b53a.2cd788","c83333c3.dab24"]]},{"id":"e6b1b53a.2cd788","type":"ui_clock","z":"d8b40c37.7fd748","name":"","group":"b418fe9c.51467","order":6,"width":7,"height":6,"x":930,"y":140,"wires":[]},{"id":"c83333c3.dab24","type":"ui_text","z":"d8b40c37.7fd748","group":"b418fe9c.51467","order":1,"width":8,"height":1,"name":"Date","label":"","format":"{{msg.payload | date:'EEEE, d. MMM y'}}","layout":"row-left","x":930,"y":180,"wires":[]},{"id":"9f1633a2.9389b8","type":"exec","z":"3e56901f.b4aac","command":"sudo reboot now","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":520,"y":300,"wires":[[],[],[]]},{"id":"31a3558b.6b211a","type":"exec","z":"3e56901f.b4aac","command":"sudo shutdown now","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":540,"y":220,"wires":[[],[],[]]},{"id":"c29fc847.47ba4","type":"link out","z":"d8b40c37.7fd748","name":"","links":["7813d7bd.c20a6","f3dee1a0.2229c8"],"x":895,"y":300,"wires":[]},{"id":"ea335901.b22c6","type":"inject","z":"7f717486.e31e8c","name":"","props":[],"repeat":".1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payloadType":"str","x":450,"y":80,"wires":[["9674d816.49a088"]]},{"id":"9674d816.49a088","type":"function","z":"7f717486.e31e8c","name":"fake data","func":"count++;\nmsg.payload = {\"temp\":24.5,\n    \"yaw\":0.000,\n    \"roll\":0.000,\n    \"pitch\":0.000,\n    \"imu_yaw\":NaN,\n    \"imu_roll\":NaN,\n    \"imu_pitch\":NaN,\n    \"gyro_x\":0.000,\n    \"gyro_y\":0.000,\n    \"gyro_z\":0.000,\n    \"ang_x\":0.000,\n    \"ang_y\":0.000,\n    \"ang_z\":0.000,\n    \"acc_x\":Math.sin(count/4)*Math.sin(count/3.141),\n    \"acc_y\":Math.sin(count/8)*Math.sin(count/3.141),\n    \"acc_z\":Math.sin(count/16)*Math.sin(count/3.141),\n    \"millis_start\":49259,\n    \"millis_end\":49277,\n    count};\nreturn msg;","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is started.\ncount = 0;","finalize":"","libs":[],"x":660,"y":80,"wires":[[]]},{"id":"f9f73584.9ed138","type":"mqtt out","z":"7f717486.e31e8c","name":"fake telemetry","topic":"RcCar/acceleration","qos":"","retain":"","respTopic":"","contentType":"","userProps":"","correl":"","expiry":"","broker":"4b7db33.210fecc","x":860,"y":80,"wires":[]},{"id":"c9ebac2.540c7d","type":"mqtt in","z":"7f717486.e31e8c","name":"Telemetry","topic":"RcCar/acceleration","qos":"2","datatype":"json","broker":"4b7db33.210fecc","nl":false,"rap":true,"rh":0,"x":440,"y":260,"wires":[["114ab64d.7bdf0a","a4868824.e60e7","52622f54.7d78e","d500833d.1466a8","5bd81495.a0a5cc","43c76f39.bd915"]]},{"id":"13ee3222.2811ce","type":"mqtt in","z":"7f717486.e31e8c","name":"bytes_received","topic":"$SYS/broker/bytes/received","qos":"2","datatype":"utf8","broker":"4b7db33.210fecc","nl":false,"rap":true,"rh":0,"x":420,"y":520,"wires":[["fb4187c3.1facb"]]},{"id":"4a58a330.5bee7c","type":"ui_template","z":"3e56901f.b4aac","group":"18965cda.34db2b","name":"Edit Mode","order":24,"width":4,"height":1,"format":"<a style=\"color: #666;text-decoration: underline;\" href=\"http://localhost:1880\">Developer Mode</a>\n\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1040,"y":680,"wires":[[]]},{"id":"26200784.2d47a","type":"inject","z":"71a85f39.f39c5","name":"","props":[],"repeat":"30","crontab":"","once":true,"onceDelay":"2","topic":"","payloadType":"str","x":250,"y":60,"wires":[["87c9289e.b0e4"]]},{"id":"87c9289e.b0e4","type":"exec","z":"71a85f39.f39c5","command":"iw dev wlan0 station dump","addpay":"","append":"| grep 'Station\\|signal' | awk '{print $2}'","useSpawn":"false","timer":"","oldrc":false,"name":"","x":480,"y":60,"wires":[["5813838e.56384c"],[],[]]},{"id":"a19ad654.d92f38","type":"function","z":"71a85f39.f39c5","name":"","func":"\nleases = msg.payload;\nraw = msg.stations.trim().split(\"\\n\")\nlet stations = [];\nlet rssi = 0;\nlet mac = \"\";\n\nif(raw.length >= 2) {\n    for(let i=0; i<raw.length;i+=2) {\n        rssi = parseInt(raw[i+1]);\n        mac = raw[i];\n        lease = leases.find(item => item.mac === mac);\n        stations.push({\n            mac, \n            ip: lease.ip,\n            host: lease.hostname,\n            rssi,\n            rssi_Percent: rssi >= -50 ? 100 : (rssi <= -100 ? 0 : 2 * (rssi + 100)),\n        });\n    }\n}\n\nmsg.payload = {\n    connected: stations.length,\n    stations\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":900,"y":220,"wires":[["937457bf.8def2","8bdc8d21.382758"]]},{"id":"8bdc8d21.382758","type":"ui_text","z":"71a85f39.f39c5","group":"1392885.3583378","order":10,"width":5,"height":1,"name":"connected","label":"Connected:","format":"{{msg.payload.connected}}","layout":"row-center","x":1070,"y":220,"wires":[]},{"id":"937457bf.8def2","type":"ui_template","z":"71a85f39.f39c5","group":"1392885.3583378","name":"client list","order":13,"width":13,"height":6,"format":"<table style=\"text-align:center;color: #aaa\">\n    <tr ng-repeat=\"(key, value) in msg.payload.stations\">\n        <td>{{value.host}}</td>\n        <td>{{value.ip}}</td>\n        <td>{{value.mac}}</td>\n        <td>{{value.rssi_Percent}}%</td>\n    </tr>\n</table>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1080,"y":280,"wires":[[]]},{"id":"b6655710.d78d98","type":"exec","z":"71a85f39.f39c5","command":"cat /var/lib/misc/dnsmasq.leases","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":490,"y":220,"wires":[["e5067776.8e382"],[],[]]},{"id":"12079db1.c510f2","type":"ui_switch","z":"71a85f39.f39c5","name":"","label":"WiFi AP","tooltip":"Enable Wireless Access Point","group":"1392885.3583378","order":4,"width":7,"height":2,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","animate":false,"x":400,"y":480,"wires":[["74028f3.6ebb27"]]},{"id":"74028f3.6ebb27","type":"switch","z":"71a85f39.f39c5","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"true","vt":"jsonata"},{"t":"eq","v":"false","vt":"jsonata"}],"checkall":"true","repair":false,"outputs":2,"x":590,"y":480,"wires":[["19be108c.011637"],["4f435d7f.7d39cc"]]},{"id":"4f435d7f.7d39cc","type":"exec","z":"71a85f39.f39c5","command":"sudo systemctl stop hostapd","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":850,"y":520,"wires":[[],[],[]]},{"id":"19be108c.011637","type":"exec","z":"71a85f39.f39c5","command":"sudo systemctl start hostapd","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":850,"y":440,"wires":[[],[],[]]},{"id":"5813838e.56384c","type":"change","z":"71a85f39.f39c5","name":"","rules":[{"t":"set","p":"stations","pt":"msg","to":"payload","tot":"msg"},{"t":"delete","p":"payload","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":140,"wires":[["b6655710.d78d98"]]},{"id":"e5067776.8e382","type":"csv","z":"71a85f39.f39c5","name":"","sep":" ","hdrin":"","hdrout":"none","multi":"mult","ret":"\\n","temp":"timestamp,mac,ip,hostname,xxx","skip":"0","strings":true,"include_empty_strings":"","include_null_values":"","x":750,"y":220,"wires":[["a19ad654.d92f38"]]},{"id":"9193a0fe.3c1d1","type":"ui_template","z":"71a85f39.f39c5","group":"1392885.3583378","name":"","order":1,"width":1,"height":1,"format":"<style>\n    .nr-dashboard-switch {\n        font-size: 24px !important;\n        font-weight: bold;\n    }    \n</style>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":400,"y":540,"wires":[[]]},{"id":"6ec2d4b0.873a8c","type":"ui_template","z":"3e56901f.b4aac","group":"18965cda.34db2b","name":"CPU Temp","order":20,"width":4,"height":1,"format":"<div style=\"color: #666\">CPU {{msg.payload}} &deg;C</div>\n\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1050,"y":520,"wires":[[]]},{"id":"cfa36565.5150c","type":"inject","z":"3e56901f.b4aac","name":"","props":[],"repeat":"60","crontab":"","once":true,"onceDelay":"3","topic":"","x":270,"y":520,"wires":[["ce5c91d.5da2b7","7137f6e9.3cc4c"]]},{"id":"ce5c91d.5da2b7","type":"exec","z":"3e56901f.b4aac","command":"/opt/vc/bin/vcgencmd measure_temp","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":590,"y":520,"wires":[["3a7c93fc.b1de7c"],[],[]]},{"id":"3a7c93fc.b1de7c","type":"change","z":"3e56901f.b4aac","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"$substringBefore($substringAfter(msg.payload, \"=\"), \".\")\t\t\t\t","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":520,"wires":[["6ec2d4b0.873a8c"]]},{"id":"fdf3da51.6dd48","type":"inject","z":"2753c794.533ca8","name":"","props":[],"repeat":"3600","crontab":"","once":true,"onceDelay":0.1,"topic":"","x":350,"y":60,"wires":[["7ca42602.63d8d8"]]},{"id":"7ca42602.63d8d8","type":"fs-file-lister","z":"2753c794.533ca8","name":"","start":"/home/pi/.node-red/lib/ui-media/lib/Videos","pattern":"*.*","folders":"*","hidden":false,"lstype":"files","path":false,"single":true,"depth":0,"stat":false,"showWarnings":false,"x":540,"y":60,"wires":[["5738d48c.e7fc0c"]]},{"id":"5738d48c.e7fc0c","type":"change","z":"2753c794.533ca8","name":"store media","rules":[{"t":"set","p":"media","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":60,"wires":[[]]},{"id":"82ac8b5.e82c9f8","type":"ui_media","z":"2753c794.533ca8","group":"40d3cd94.82f53c","name":"","width":19,"height":9,"order":1,"category":"Videos","file":"mandel-20210317-202939.png","layout":"center","showcontrols":true,"loop":true,"onstart":false,"scope":"local","tooltip":"","x":910,"y":200,"wires":[[]]},{"id":"df2a4e54.23593","type":"function","z":"2753c794.533ca8","name":"media","func":"msg.payload = {\n    \"category\":\"Videos\",\n    \"name\": msg.payload[Math.floor(Math.random() * msg.payload.length)],\n    \"play\":true,\n    \"layout\": \"center\"\n};\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":730,"y":200,"wires":[["82ac8b5.e82c9f8"]]},{"id":"7fe379d.7f0da08","type":"change","z":"2753c794.533ca8","name":"media list","rules":[{"t":"set","p":"payload","pt":"msg","to":"media","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":200,"wires":[["df2a4e54.23593"]]},{"id":"117b816a.2c884f","type":"inject","z":"2753c794.533ca8","name":"","props":[],"repeat":"3600","crontab":"","once":true,"onceDelay":"1","topic":"","x":350,"y":200,"wires":[["7fe379d.7f0da08"]]},{"id":"19ef1a54.67b8ae","type":"comment","z":"2753c794.533ca8","name":"","info":"Randomized change of media file and Message-Of-The-Day","x":200,"y":200,"wires":[]},{"id":"c32869e.1c4c898","type":"ui_text","z":"d8b40c37.7fd748","group":"b418fe9c.51467","order":19,"width":19,"height":3,"name":"MotD","label":"","format":"{{msg.payload}}","layout":"col-center","x":930,"y":420,"wires":[]},{"id":"83c79300.15a28","type":"function","z":"d8b40c37.7fd748","name":"message","func":"msg.payload = messages[Math.floor(Math.random() * messages.length)];\nreturn msg;","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is started.\n\nmessages = [\n\"If anything can go wrong, it will.\",\n\"If anything just cannot go wrong, it will anyway.\",\n\"If everything seems to be going well, you have obviously overlooked something\",\n\"Smile . . . tomorrow will be worse.\",\n\"Matter will be damaged in direct proportion to its value.\",\n\"Research supports a specific theory depending on the amount of funds dedicated to it.\",\n\"In nature, nothing is ever right. Therefore, if everything is going right ... something is wrong.\",\n\"It is impossible to make anything foolproof because fools are so ingenious.\",\n\"Everything takes longer than you think.\",\n\"Every solution breeds new problems.\",\n\"The legibility of a copy is inversely proportional to its importance.\",\n\"A falling object will always land where it can do the most damage.\",\n\"A shatterproof object will always fall on the only surface hard enough to crack or break it.\",\n\"The other line always moves faster.\",\n\"In order to get a personal loan, you must first prove you don't need it.\",\n\"Anything you try to fix will take longer and cost you more than you thought.\",\n\"Build a system that even a fool can use, and only a fool will use it.\",\n\"Everyone has a scheme for getting rich that will not work.\",\n\"In any hierarchy, each individual rises to his own level of incompetence, and then remains there.\",\n\"There's never time to do it right, but there's always time to do it over.\",\n\"When in doubt, mumble. When in trouble, delegate.\",\n\"Anything good in life is either illegal, immoral or fattening.\",\n\"Murphy's golden rule: whoever has the gold makes the rules.\",\n\"A Smith & Wesson beats four aces.\",\n\"In case of doubt, make it sound convincing.\",\n\"Never argue with a fool, people might not know the difference.\",\n\"Whatever hits the fan will not be evenly distributed.\",\n\"Where patience fails, force prevails.\",\n\"Just when you think things cannot get any worse, they will.\",\n\"Great ideas are never remembered and dumb statements are never forgotten.\",\n\"When you see light at the end of the tunnel, the tunnel will cave in.\",\n\"Traffic is inversely proportional to how late you are, or are going to be.\",\n\"The probability of being observed is in direct proportion to the stupidity of ones actions.\",\n\"Those who know the least will always know it the loudest.\",\n\"Just because you CAN do something doesn't mean you SHOULD.\",\n\"Chaos always wins, because it's better organized.\",\n\"If at first you don't succeed destroy all evidence that you ever tried.\",\n\"It takes forever to learn the rules and once you've learned them they change again\",\n\"You will find an easy way to do it, after you've finished doing it.\",\n\"Anyone who isn't paranoid simply isn't paying attention.\",\n\"A valuable falling in a hard to reach place will be exactly at the distance of the tip of your fingers.\",\n\"The probability of rain is inversely proportional to the size of the umbrella you carry around with you all day.\",\n\"Nothing is impossible for the man who doesn't have to do it himself.\",\n\"The likelihood of something happening is in inverse proportion to the desirability of it happening.\",\n\"Common Sense Is Not So Common.\",\n\"Power Is Taken... Not Given.\",\n\"Two wrongs don't make a right. It usually takes three or four.\",\n\"The difference between Stupidity and Genius is that Genius has its limits.\",\n\"Those who don't take decisions never make mistakes.\",\n\"Anything that seems right, is putting you into a false sense of security.\",\n\"Its never so bad it couldn't be worse.\",\n\"When saying that things can not possibly get any worse - they will.\",\n\"The person ahead of you in the queue, will have the most complex transaction possible.\",\n\"Logic is a systematic method of coming to the wrong conclusion with confidence.\",\n\"Technology is dominated by those who manage what they do not understand.\",\n\"The opulence of the front office decor varies inversely with the fundamental solvency of the firm.\",\n\"The attention span of a computer is only as long as it electrical cord.\",\n\"Nothing ever gets built on schedule or within budget.\",\n\"The first myth of management is that it exists.\",\n\"A failure will not appear till a unit has passed final inspection.\",\n\"To err is human, but to really foul things up requires a computer.\",\n\"Any sufficiently advanced technology is indistinguishable from magic.\",\n\"Nothing motivates a man more than to see his boss putting in an honest day's work.\",\n\"Some people manage by the book, even though they don't know who wrote the book or even what book.\",\n\"To spot the expert, pick the one who predicts the job will take the longest and cost the most.\",\n\"After all is said and done, a hell of a lot more is said than done.\",\n\"The only perfect science is hind-sight.\",\n\"If an experiment works, something has gone wrong.\",\n\"When all else fails, read the instructions.\",\n\"The degree of technical competence is inversely proportional to the level of management.\",\n\"The remaining work to finish in order to reach your goal increases as the deadline approaches.\",\n\"It is never wise to let a piece of electronic equipment know that you are in a hurry.\",\n\"If you are not thoroughly confused, you have not been thoroughly informed.\",\n\"Standard parts are not.\",\n\"The bolt that is in the most awkward place will always be the one with the tightest thread.\",\n\"In today's fast-moving tech environment, it is a requirement that we forget more than we learn.\",\n\"It is simple to make something complex, and complex to make it simple.\",\n\"If it works in theory, it won't work in practice. If it works in practice it won't work in theory.\",\n\"Any tool dropped will fall where it can cause the most damage.\",\n\"When you finally update to a new technology, is when everyone stop supporting it.\",\n\"If you think you understand science (or computers or women), you're clearly not an expert\",\n\"Technicians are the only ones that don't trust technology.\",\n\"The repairman will have never seen a model quite like yours before.\",\n\"In theory there is no difference between theory and practice, but in practice there is.\",\n\"Never underestimate incompetency.\",\n\"Any given program, when running, is obsolete.\",\n\"Any given program costs more and takes longer each time it is run.\",\n\"If a program is useful, it will have to be changed.\",\n\"If a program is useless, it will have to be documented.\",\n\"Any given program will expand to fill all the available memory.\",\n\"Program complexity grows until it exceeds the capability of the programmer who must maintain it.\",\n\"Adding manpower to a late software project makes it later.\",\n\"No matter how many resources you have, it is never enough.\",\n\"If a program has not crashed yet, it is waiting for a critical moment before it crashes.\",\n\"Software bugs are impossible to detect by anybody except the end user.\",\n\"A failure in a device will never appear until it has passed final inspection.\",\n\"An expert is someone brought in at the last minute to share the blame.\",\n\"A patch is a piece of software which replaces old bugs with new bugs.\",\n\"The chances of a program doing what it's supposed to do is inversely proportional to the number of lines of code used.\",\n\"The longer it takes to download a program the more likely it won't run.\",\n\"It's not a bug, it's an undocumented feature.\",\n\"Bugs mysteriously appear when you say, Watch this!\",\n\"The probability of bugs appearing is directly proportional to the number and importance of people watching.\",\n\"If a project is completed on schedule, it wasn't debugged properly.\",\n\"If it works, it's production. If it doesn't, it's a test.\",\n\"Real programmers don't comment their code. If it was hard to write, it should be hard to understand.\",\n\"A computer that has been on the market for 6 weeks is still usable as a boat anchor.\",\n\"Computers let you waste time efficiently.\",\n\"A pat on the back is only a few inches from a kick in the pants.\",\n\"Don't be irreplaceable, if you can't be replaced, you can't be promoted.\",\n\"It doesn't matter what you do, it only matters what you say you've done and what you say you're going to do.\",\n\"The more crap you put up with, the more crap you are going to get.\",\n\"When the bosses talk about improving productivity, they are never talking about themselves.\",\n\"Mother said there would be days like this, but she never said there would be so many.\",\n\"--> The last person that quit or was fired will be the one held responsible for everything that goes wrong. :-)\",\n\"If it wasn't for the last minute, nothing would get done.\",\n\"The longer the title, the less important the job.\",\n\"If you have a little extra money to blow, something will break, and cost more than that little extra.\",\n\"If the salesperson says, All you have to do is..., you know you're in trouble.\",\n\"When I was a kid my parents moved a lot, but I always found them.\",\n\"Life is short. Smile while you still have teeth.\",\n\"The best way to teach your kids about taxes is by eating 30 percent of their ice cream.\",\n\"I'm writing a book. I've got the page numbers done.\",\n\"I have always wanted to be somebody, but I see now I should have been more specific.\",\n\"Knowledge is like underwear. It is useful to have it, but not necessary to show it off.\",\n\"If a book about failures doesn't sell, is it a success?\",\n\"A lie gets halfway around the world before the truth has a chance to get its pants on.\",\n\"It's okay if you don't like me. Not everyone has good taste.\",\n\"Everything is changing. People are taking the comedians seriously and the politicians as a joke.\",\n\"I like long walks, especially when they are taken by people who annoy me.\",\n\"The only way to keep your health is to eat what you don't want, drink what you don't like, and do what you'd rather not.\",\n\"When nothing is going right, go left.\",\n\"Never miss a good chance to shut up.\",\n\"I'd like to live like a poor man â€“ only with lots of money.\",\n\"My life feels like a test I didn't study for.\",\n\"I don't go crazy. I am crazy. I just go normal from time to time.\",\n\"My bed is a magical place where I suddenly remember everything I forgot to do.\",\n\"I'm actually not funny. I'm just really mean and people think I'm joking.\",\n\"Sometimes I want to go back in time and punch myself in the face.\",\n\"If you are lonely, dim all lights and put on a horror movie. After a while it won't feel like you are alone anymore.\",\n\"Fries or salad? sums up every adult decision you have to make.\",\n\"If we're not meant to have midnight snacks, why is there a light in the fridge.\",\n\"My doctor told me to watch my drinking. Now I drink in front of a mirror.\",\n\"I drive way too fast to worry about cholesterol.\",\n\"As your best friend I'll always pick you up when you fall, after I finish laughing.\",\n\"Some people are like clouds. When they disappear, it's a beautiful day.\",\n\"I'm not arguing. I'm simply explaining why I'm right.\",\n\"No wonder the teacher knows so much; she has the book.\",\n\"The most ineffective workers are systematically moved to the place where they can do the least damage: management.\",\n\"The best way to appreciate your job is to imagine yourself without one.\",\n\"If I had asked people what they wanted, they would have said faster horses. Henry Ford\",\n\"The closest a person ever comes to perfection is when he fills out a job application form.\",\n\"Don't yell at your kids! Lean in real close and whisper, it's much scarier.\",\n\"The quickest way for a parent to get a child's attention is to sit down and look comfortable.\",\n\"I don't know what's more exhausting about parenting: the getting up early, or the acting like you know what you're doing.\",\n\"It just occurred to me that the majority of my diet is made up of the foods that my kid didn't finish.\",\n\"When your children are teenagers, it's important to have a dog so that someone in the house is happy to see you.\",\n\"I never know what to say when people ask me what my hobbies are. I mean, I'm a dad.\",\n\"My wife and I were happy for twenty years. Then we met.\",\n\"Marriage... it's not a word, it's a sentence.\",\n\"Marry a man your own age; as your beauty fades, so will his eyesight.\",\n\"Marriage is the triumph of imagination over intelligence. Second marriage is the triumph of hope over experience.\",\n\"The most terrifying thing any woman can say to me is Notice anything different?\",\n\"When a man brings his wife flowers for no reason, there's a reason.\"\n]","finalize":"","libs":[],"x":740,"y":420,"wires":[["c32869e.1c4c898"]]},{"id":"2471defe.fb8f3a","type":"inject","z":"d8b40c37.7fd748","name":"","props":[],"repeat":"600","crontab":"","once":true,"onceDelay":0.1,"topic":"","x":370,"y":420,"wires":[["83c79300.15a28"]]},{"id":"7aea8c97.888654","type":"ui_button","z":"2753c794.533ca8","name":"Skip","group":"40d3cd94.82f53c","order":3,"width":3,"height":1,"passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"skip_next","payload":"true","payloadType":"bool","topic":"skip","topicType":"msg","x":350,"y":280,"wires":[["7fe379d.7f0da08"]]},{"id":"c93945e7.98cd3","type":"ui_text","z":"d8b40c37.7fd748","group":"b418fe9c.51467","order":3,"width":8,"height":1,"name":"Temp","label":"","format":"{{msg.payload.temperature_C}} &deg;C","layout":"row-spread","x":930,"y":260,"wires":[]},{"id":"7137f6e9.3cc4c","type":"exec","z":"3e56901f.b4aac","command":"uptime -p","addpay":"","append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":500,"y":600,"wires":[["39b23e7b.50192a"],[],[]]},{"id":"39b23e7b.50192a","type":"ui_template","z":"3e56901f.b4aac","group":"18965cda.34db2b","name":"Uptime","order":22,"width":9,"height":1,"format":"<div style=\"color: #666;text-align: center;\">{{msg.payload}}</div>\n\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1040,"y":600,"wires":[[]]},{"id":"15abecfe.ba45bb","type":"inject","z":"71a85f39.f39c5","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"true","payloadType":"bool","x":250,"y":480,"wires":[["12079db1.c510f2"]]},{"id":"fb4187c3.1facb","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"Rx Bytes","order":11,"width":6,"height":1,"format":"<div style=\"color: #666\">\n    Rx: {{msg.payload}} Bytes\n</div>\n\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":840,"y":520,"wires":[[]]},{"id":"e2410636.d664e8","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"Tx Bytes","order":12,"width":6,"height":1,"format":"<div style=\"color: #666\">\n    Tx: {{msg.payload}} Bytes\n</div>\n\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":840,"y":460,"wires":[[]]},{"id":"a4868824.e60e7","type":"ui_valuetrail","z":"7f717486.e31e8c","group":"f3af13fb.dab4","order":2,"width":12,"height":3,"name":"ang_x","label":"","unit":"m/s","blur":true,"minmax":true,"allowtoggle":true,"showvalue":false,"decimals":"2","colorLine":"#dd7a00","colorFromTheme":false,"stroke":"4","property":"payload.ang_x","pointcount":"24","x":830,"y":180,"wires":[]},{"id":"d500833d.1466a8","type":"ui_valuetrail","z":"7f717486.e31e8c","group":"f3af13fb.dab4","order":5,"width":12,"height":3,"name":"ang_y","label":"","unit":"m/s","blur":true,"minmax":true,"allowtoggle":true,"showvalue":false,"decimals":"2","colorLine":"#00dda0","colorFromTheme":false,"stroke":"4","property":"payload.ang_y","pointcount":"24","x":830,"y":280,"wires":[]},{"id":"43c76f39.bd915","type":"ui_valuetrail","z":"7f717486.e31e8c","group":"f3af13fb.dab4","order":8,"width":12,"height":3,"name":"yaw","label":"","unit":"m/s","blur":true,"minmax":true,"allowtoggle":true,"showvalue":false,"decimals":"2","colorLine":"#00a0dd","colorFromTheme":false,"stroke":"4","property":"payload.yaw","pointcount":"24","x":830,"y":380,"wires":[]},{"id":"114ab64d.7bdf0a","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"ang_x","order":1,"width":7,"height":2,"format":"<div style=\"text-align: right;font-size: 60px;\">\n    {{msg.payload.ang_x | number:'2.2'}}\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":830,"y":140,"wires":[[]]},{"id":"52622f54.7d78e","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"ang_y","order":4,"width":7,"height":2,"format":"<div style=\"text-align: right;font-size: 60px;\">\n    {{msg.payload.ang_y | number:'2.2'}}\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":830,"y":240,"wires":[[]]},{"id":"5bd81495.a0a5cc","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"yaw","order":7,"width":7,"height":2,"format":"<div style=\"text-align: right;font-size: 60px;\">\n    {{msg.payload.yaw | number:'2.2'}}\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":830,"y":340,"wires":[[]]},{"id":"f3dee1a0.2229c8","type":"link in","z":"b1694ae5.76a6b8","name":"","links":["c29fc847.47ba4"],"x":395,"y":280,"wires":[["c39b872e.c64898"]]},{"id":"ea5b9c1d.30f7d8","type":"ui_chart","z":"b1694ae5.76a6b8","name":"","group":"ee517ab4.5dfed","order":1,"width":19,"height":10,"label":"Temperature Chart","chartType":"line","legend":"true","xformat":"HH:mm","interpolate":"bezier","nodata":"","dot":false,"ymin":"15","ymax":"35","removeOlder":"48","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"useDifferentColor":false,"x":790,"y":280,"wires":[[]]},{"id":"c39b872e.c64898","type":"change","z":"b1694ae5.76a6b8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.temperature_C","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"Temperature","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":280,"wires":[["ea5b9c1d.30f7d8"]]},{"id":"59266a32.fea824","type":"ui_template","z":"734e8117.dcf29","group":"7dab5cc4.d52464","name":"stopwatch","order":2,"width":17,"height":7,"format":"<div style=\"text-align: center;font-size: 200px;\">\n    {{msg.timestamp | date:'mm:ss'}}.{{msg.millis}}\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":920,"y":440,"wires":[[]]},{"id":"55a5b43d.37d154","type":"ui_button","z":"734e8117.dcf29","name":"start-stop","group":"7dab5cc4.d52464","order":17,"width":7,"height":2,"passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"{{msg.icon}}","payload":"","payloadType":"date","topic":"topic","topicType":"msg","x":440,"y":160,"wires":[["d21fa13b.a539a8"]]},{"id":"d21fa13b.a539a8","type":"function","z":"734e8117.dcf29","name":"","func":"active = !active;\nbtn.icon = active == true ? \"stop\" : \"play_arrow\";\nreturn [btn, {\"payload\": active}];","outputs":2,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is started.\nactive = false;\nbtn = {icon: \"play_arrow\"};\n","finalize":"","libs":[],"x":440,"y":320,"wires":[["55a5b43d.37d154"],["35c95f0.5899d22"]]},{"id":"32128a9b.eb559e","type":"inject","z":"734e8117.dcf29","name":"100ms","props":[],"repeat":".1","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":300,"y":440,"wires":[["8a624d3e.92cf"]]},{"id":"35c95f0.5899d22","type":"change","z":"734e8117.dcf29","name":"","rules":[{"t":"set","p":"active","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":320,"wires":[["8a624d3e.92cf"]]},{"id":"f7d40aee.19e568","type":"function","z":"734e8117.dcf29","name":"","func":"\nif(msg.active) {\n    if(!running) {\n        offset = Date.now();\n        running = true;\n    }\n    \n    msg = {\n        \"timestamp\": Date.now() - offset,\n        \"millis\": Math.floor((Date.now() - offset)%1000 / 100)\n    };\n    return msg;    \n}\nelse {\n    running = false;\n}\n","outputs":1,"noerr":0,"initialize":"// Code added here will be run once\n// whenever the node is started.\n\nrunning = false;\noffset = Date.now();\n","finalize":"","libs":[],"x":760,"y":440,"wires":[["59266a32.fea824"]]},{"id":"8a624d3e.92cf","type":"change","z":"734e8117.dcf29","name":"","rules":[{"t":"set","p":"active","pt":"msg","to":"active","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":440,"wires":[["f7d40aee.19e568"]]},{"id":"ff490d2e.125148","type":"inject","z":"734e8117.dcf29","name":"init","props":[{"p":"icon","v":"play_arrow","vt":"str"},{"p":"timestamp","v":"0","vt":"num"},{"p":"millis","v":"0","vt":"num"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","x":210,"y":340,"wires":[["55a5b43d.37d154","59266a32.fea824"]]},{"id":"4bebb47a.88cdec","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"label_ang_x","order":3,"width":7,"height":1,"format":"<div style=\"color:#888;text-align: right;font-size: 20px;\">\nAcceleration X\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":990,"y":140,"wires":[[]]},{"id":"c00cb325.96aa3","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"label_ang_y","order":6,"width":7,"height":1,"format":"<div style=\"color:#888;text-align: right;font-size: 20px;\">\nAcceleration Y\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":990,"y":240,"wires":[[]]},{"id":"961191e2.bcb9a","type":"ui_template","z":"7f717486.e31e8c","group":"f3af13fb.dab4","name":"label_yaw","order":9,"width":7,"height":1,"format":"<div style=\"color:#888;text-align: right;font-size: 20px;\">\nYaw\n</div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":340,"wires":[[]]}]